<link type="text/css"
      rel="stylesheet"
      href="https://unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
<link type="text/css"
      rel="stylesheet"
      href="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.css" />


<script src="https://unpkg.com/vue"></script>
<script src="https://unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.js"></script>



<div id="app">
    <b-card>
        <div class="card-header">使用者訂單追蹤</div>
        <b-tabs content-class="mt-3" fill>
            <!-- 待核可 -->
            <b-tab title="待核可" active>
                <div>
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>訂單ID</th>
                                <th>設備名稱</th>
                                <th>品牌</th>
                                <th>型號</th>
                                <th>單價</th>
                                <th>狀態</th>
                                <th>問題回報</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr v-for="order in orders">
                                <td>{{order.orderId}}</td>  
                                <td>{{order.equipmentName}}</td>
                                <td>{{order.brand}}</td>
                                <td>{{order.model}}</td>
                                <td>{{order.unitPrice}}</td>
                                <td>{{order.statusName}}</td>
                                <td><b-btn>問題回報</b-btn></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </b-tab>

            <!-- 待領取 -->
            <b-tab title="待領取">
                <p>I'm the second tab</p>
            </b-tab>

            <!-- 租借中 -->
            <b-tab title="租借中">
                <p>I'm the tab with the very, very long title</p>
            </b-tab>

            <!-- 已結束 -->
            <b-tab title="已結束">
                <p>I'm a disabled tab!</p>
            </b-tab>

            <!-- 已結束 -->
            <b-tab title="已逾期">
                <p>I'm a disabled tab!</p>
            </b-tab>
        </b-tabs>
    </b-card>
</div>


<script>
    var app = new Vue({
        el: '#app',
        data: {
            orders: '',
            useridQry: '',

        },
        methods: {
            btnQry: function () {
                let userid = this.useridQry;
                let url = '/orderApi/getOrdersByUserId/' + userid;
                fetch(url, { method: 'GET' })
                    .then(response => {
                        return response.json();
                    })
                    .then(response => {
                        this.orders = response;
                    })
            },
        },
    })
</script> 