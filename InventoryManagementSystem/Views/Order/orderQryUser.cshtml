<div id="app">
    <fieldset>
        <legend>訂單狀態</legend>
        <div>
            <label>查詢：</label>
            <input type="text" v-model="useridQry" placeholder="請輸入使用者ID" />
            <input type="button" value="查詢" v-on:click="btnQry" />
        </div>
        <table class="table table-hover">
            <thead class="badge-secondary">
                <tr>
                    <th>使用者ID</th>
                    <th>訂單ID</th>
                    <th>設備名稱</th>
                    <th>品牌</th>
                    <th>型號</th>
                    <th>單價</th>
                    <th>狀態</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="order in orders">
                    <td>{{order.userId}}</td>
                    <td>{{order.orderId}}</td>
                    <td>{{order.equipmentName}}</td>
                    <td>{{order.brand}}</td>
                    <td>{{order.model}}</td>
                    <td>{{order.unitPrice}}</td>
                    <td>{{order.statusName}}</td>
                </tr>
            </tbody>
        </table>
    </fieldset>
</div>

<script>
    var app = new Vue({
        el: '#app',
        data: {
            orders: '',
            useridQry: '',

        },

        methods: {
            btnQry: function () {
                let userid = this.useridQry;
                let url = '/orderApi/getOrdersByUserId/' + userid;
                fetch(url, { method: 'GET' })
                    .then(response => {
                        return response.json();
                    })
                    .then(response => {
                        this.orders = response;
                    })
            },

        },

    })
</script>